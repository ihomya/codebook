<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            height: 550px;
        }

        .box1,
        .box4 {
            position: absolute;
            width: 500px;
            height: 500px;
            background-color: pink;
        }

        .box2,
        .box5 {
            position: relative;
            left: 0;
            top: 0;
            width: 300px;
            height: 300px;
            background-color: sandybrown;
        }

        .box3,
        .box6 {
            position: relative;
            left: 0;
            top: 0;
            width: 100px;
            height: 100px;
            background-color: skyblue;
        }
    </style>
</head>

<body>
    <div class="box">
        <div class="box1">1
            <div class="box2">2
                <div class="box3">3</div>
            </div>
        </div>
    </div>
    <div class="box">
        <div class="box4">4
            <div class="box5">5
                <div class="box6">6</div>
            </div>
        </div>
    </div>
    <script>
        const box1 = document.querySelector('.box1')
        const box2 = document.querySelector('.box2')
        const box3 = document.querySelector('.box3')
        // 捕获:当第三个参数为true时, 事件 由外向里 逐一触发
        box1.addEventListener('click', function () {
            alert('box1')
        }, true)
        box2.addEventListener('click', function () {
            alert('box2')
        }, true)
        box3.addEventListener('click', function () {
            alert('box3')
        }, true)

        const box4 = document.querySelector('.box4')
        const box5 = document.querySelector('.box5')
        const box6 = document.querySelector('.box6')
        // 冒泡: 第三个参数默认为false, 事件 由里向外 逐一出发
        box4.addEventListener('click', function () {
            alert('box4')
        })
        box5.addEventListener('click', function () {
            alert('box5')
        })
        box6.addEventListener('click', function (event) {
            // 判断事件是否能冒泡
            console.log(event.bubbles);
            alert('box6')
            // 阻止冒泡
            /* event.stopPropagation(); // w3c
            event.cancelBubble = true // ie10以下 */
            //阻止冒泡 兼容写法
            event = event || window.event;

            if (event && event.stopPropagation) {
                event.stopPropagation();
            } else {
                event.cancelBubble = true;
            }
        })

    </script>
</body>

</html>