<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: pink;
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <div class="box"></div>
    <script>
        /* 鼠标拖拽事件流程：

        （1）onmousedown：当鼠标在被拖拽元素上按下时，开始拖拽；

        （2）onmousemove：当鼠标移动时被拖拽元素跟随鼠标移动；

        （3）onmouseup：当鼠标松开时，被拖拽元素固定在当前位置。  */

        let box = document.querySelector('.box');
        let flat = false;
        let x = 0;
        let y = 0;
        // （1）onmousedown：当鼠标在被拖拽元素上按下时，开始拖拽；
        box.onmousedown = function () {
            flat = true;
            // 鼠标在文档中的坐标
            let pagex = box.scrollLeft + event.clientX;
            let pagey = box.scrollTop + event.clientY;
            // 鼠标在盒子中的坐标
            x = pagex - box.offsetLeft;
            y = pagey - box.offsetTop;
        }
        // （2）onmousemove：当鼠标移动时被拖拽元素跟随鼠标移动；
        window.onmousemove = function (event) {
            if (flat) {
                // 鼠标在文档中的坐标
                let pagex = box.scrollLeft + event.clientX;
                let pagey = box.scrollTop + event.clientY;
                box.style.left = pagex - x + 'px'
                box.style.top = pagey - y + 'px'

            }
        }
        // （3）onmouseup：当鼠标松开时，被拖拽元素固定在当前位置。
        window.onmouseup = function (event) {
            flat = false;
            event.stopPropagation();
            console.log(event.bubbles);
        }

        /* 鼠标的滚轮事件
            onmousewheel：鼠标滚轮滚动的事件，会在滚轮滚动时触发。但是火狐不支持该属性。

            DOMMouseScroll：在火狐中需要使用 DOMMouseScroll 来绑定滚动事件。注意该事件需要通过addEventListener()函数来绑定。 */

        /* 键盘事件 */
        // onkeydown：按键被按下。如果一直按着某一个按键不松手，那么，onkeydown事件会一直触发
        // 当onkeydown连续触发时，第一次和第二次之间会间隔稍微长一点，后续的间隔会非常快。这种设计是为了防止误操作的发生
        document.onkeydown = function (event) {
            event = event || window.event;
            console.log('qianguyihao 键盘按下了');
        };

        // onkeyup：按键被松开
        document.onkeyup = function () {
            console.log('qianguyihao 键盘松开了');
        };

        // 判断哪个键盘被按下
        // 可以通过event事件对象的keyCode来获取按键的编码
        // event事件对象里面还提供了altKey,ctrlKey,shiftKey;按下返回true,否则返回false
        document.onkeydown = function (event) {
            // 判断y和ctrl是否同时被按下
            if (event.ctrlKey && event.keyCode === 89) {
                console.log('ctrl和y都被按下了');
            }
        };
    </script>
    <a href="../../../练习测试/输入框禁止输入数字.html" style="margin: 250px;;">输入框禁止输入数字</a>
</body>

</html>