<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="id1">123</button>
    <div id="demo"></div>
    <script>
        // 1. 添加监听事件
        // 语法：element.addEventListener(event, function, useCapture);
        /*
            event：第一个参数是事件的类型 (如 "click" 或 "mousedown"). 
            function：第二个参数是事件触发后调用的函数 
            useCapture：是否冒泡；可选的，false冒泡、true捕获 
        */

        // 1.1 addEventListener() 方法允许向同一个元素添加多个事件，且不会覆盖已存在的事件：
        var element = document.getElementById('id1')
        element.addEventListener("click", function () { alert("Hello World!"); });
        element.addEventListener("click", function () { document.body.style.backgroundColor = 'pink'; });

        // 1.2 向 Window 对象添加事件句柄
        // 当用户重置窗口大小时添加事件监听：
        window.addEventListener("resize", function () {
            document.getElementById("demo").innerHTML = '窗口大小已改变';
        });

        // 1.3 当传递参数值时，使用"匿名函数"调用带参数的函数：
        // element.addEventListener("click", function(){ myFunction(p1, p2); });

        // 事件冒泡或事件捕获
        /*
            冒泡：内部元素的事件会先被触发，然后再触发外部元素
            捕获：外部元素的事件会先被触发，然后才会触发内部元素的事件
        */

    </script>
    <!-- // 2. removeEventListener() 移除监听函数 -->
    <div id="myDIV">
        <p>点击按钮移除 DIV 的事件句柄。</p>
        <button onclick="removeHandler()" id="myBtn">点我</button>
    </div>
    <p id="demo"></p>
    <script>
        document.getElementById("myDIV").addEventListener("mousemove", myFunction);
        function myFunction() {
            document.getElementById("demo").innerHTML = Math.random();
        }
        function removeHandler() {
            document.getElementById("myDIV").removeEventListener("mousemove", myFunction);
        }
    </script>
</body>

</html>